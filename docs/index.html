<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>config</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="A type-safe, purely functional configuration library for Scala" /><meta name="author" content="com.lambdista" /><meta name="og:image" content="/config/img/poster.png" /><meta name="og:title" content="config" /><meta name="og:site_name" content="config" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="A type-safe, purely functional configuration library for Scala" /><meta name="twitter:image" content="/config/img/poster.png" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="" /><link rel="icon" type="image/png" href="/config/img/favicon.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/config/highlight/styles/color-brewer.css" /><link rel="stylesheet" href="/config/css/style.css" /><link rel="stylesheet" href="/config/css/palette.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/config/" class="brand"><div class="brand-wrapper" style="background:url('/config/img/sidebar_brand.png') no-repeat"><span>config</span></div></a></li><li><a href="/config/index.html" class=""></a></li><li><a href="/config/docs/index.html" class=" active ">Getting Started</a></li><li><a href="/config/docs/loaders.html" class="">Config Loaders</a></li><li><a href="/config/docs/merging.html" class="">Config Merging</a></li><li><a href="/config/css/palette.css" class=""></a></li><li><a href="/config/css/style.css" class=""></a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="hidden-xs"><a href="https://github.com/lambdista/config"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li class="hidden-xs"><a href="https://github.com/lambdista/config"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('config A type-safe, purely functional configuration library for Scala');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('config A type-safe, purely functional configuration library for Scala');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="lambdista" data-github-repo="config"><div class="content-wrapper"><section><h1 id="not-only-another-typesafes-config-wrapper">Not only another Typesafe’s config wrapper</h1>
<p>Right from the start I didn’t want to depend on other config libraries when I started implementing this one so I wrote
my own parser for a simple <em>JSONish</em> syntax. One of the advantages in using your own parser is you can add other custom
types. For example this lib allows you to define a 
Scala <a href="http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.Range">Range</a> while 
<a href="https://github.com/typesafehub/config/blob/master/HOCON.md">HOCON</a> doesn’t let you do it.
Hence, this is not only another <a href="https://github.com/typesafehub/config">Typesafe’s config</a> wrapper. However,
if you are already using Typesafe’s config library and/or just prefer HOCON syntax for your configuration,
there’s an adapter that will convert a Typesafe <code>Config</code> object into this config’s AST.
See <a href="#typesafeLoader">this example</a>.</p>

<h1 id="configuration-syntax">Configuration Syntax</h1>
<p>The syntax expected by this library is a JSON-superset. This means that any JSON file
should be a valid configuration. However, the <code>null</code> JSON values can only be converted to <code>Option[A]</code>, where <code>A</code> 
is the type you expect because, of course, we don’t fancy <code>null</code> in Scala code. The <em>superset</em> part means that:</p>

<ul>
  <li>You can optionally use <code>=</code> instead of <code>:</code></li>
  <li>You can use comments: you can start a comment line using both <code>//</code> and <code>#</code></li>
  <li>You can avoid putting the keys between quotes, unless your key contains white spaces</li>
  <li>You can use a Scala <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.duration.Duration">Duration</a></li>
  <li>You can use a Scala <a href="http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.Range">Range</a></li>
</ul>

<h1 id="getting-started">Getting Started</h1>
<p>As a first step you need to add the dependency to your build file:</p>

<p><code>scala
libraryDependencies += "com.lambdista" %% "config" % "0.4.4"
</code></p>

<p>Scala 2.12.x, 2.11.x and 2.10.x are supported.</p>

<p>See: 
* <a href="usage.html">Usage</a> for some usage scenarios. 
* <a href="loaders.html">Config Loaders</a> to see the provided config loaders. You can also easily write your own loader
if none of the provided one satisfies your needs. 
* <a href="merging.html">Config Merging</a> to see how to merge two configurations. This library provides two types of merging:
    * Standard
    * Recursive</p>

<p>Also, look at the tests for this library to see the examples in practise.</p>

<h1 id="usage">Usage</h1>
<p>Ok, let’s see the typical usage scenarios. As a use case consider the following configuration, unless otherwise specified:</p>

<p><code>
// comment 1
{
  bar = "hello",
  # comment 2
  baz = 42,
  list = [1, // comment 3
          2, 3],
  mapList = [
    {
      alpha = "hello",
      beta = 42
    },
    {
      alpha = "world",
      beta = 24
    }
  ],
  range = 2 to 10 by 2,
  duration = 5 seconds
}
</code></p>

<p>Suppose the previous configuration is at the relative path: <code>core/src/test/resources/foo.conf</code>.</p>

<p>First thing first, load and parse your config:</p>

<p>```scala
import scala.util.Try
import scala.concurrent.duration.Duration</p>

<p>import java.nio.file.Paths</p>

<p>import com.lambdista.config._</p>

<p>val confPath = “core/src/test/resources/foo.conf”</p>

<p>val config: Try[Config] = Config.from(Paths.get(confPath))
```</p>

<p>Apart from <code>java.nio.file.Path</code> you can load your config from other resources using <a href="loaders.html">Config Loaders</a>.</p>

<p>As you can see the result is a <code>Try[Config]</code>. Indeed you can get two types of error here:</p>

<ul>
  <li>The resource cannot be found.</li>
  <li>The resource can be found but its parsing failed.</li>
</ul>

<p>In both cases you would get a <code>Failure</code> wrapping the appropriate exception.</p>

<p>Once you have a <code>Config</code> object you can do two main things with it:</p>

<ul>
  <li><a href="#caseClassConversion">Convert it entirely into a case class representing the whole configuration.</a></li>
  <li><a href="#valueByValueConversion">Retrieve a single value and convert it to whatever it’s convertible to.</a></li>
</ul>

<p><a name="caseClassConversion"></a>
## Automatic conversion to a case class
Here’s how you would map the previous configuration to a case class (<code>config</code> is the value from the previous example):</p>

<p>```scala
case class Greek(alpha: String, beta: Int)</p>

<p>case class FooConfig(
    bar: String, 
    baz: Option[Int], 
    list: List[Int], 
    mapList: List[Greek], 
    range: Range, 
    duration: Duration,
    missingValue: Option[String]
)</p>

<p>val fooConfig: Try[FooConfig] = for {
  conf &lt;- config
  result &lt;- conf.as[FooConfig]
} yield result
```</p>

<p>The value of <code>fooConfig</code> will be:</p>

<p><code>scala
Success(FooConfig(hello,Some(42),List(1, 2, 3),List(Greek(hello,42), Greek(world,24)),Range(2, 4, 6, 8, 10),5 seconds))
</code></p>

<p>Here you can already notice some interesting features of this library:</p>

<ul>
  <li>The conversion to a case class happens automatically, no boilerplate on the client side is required.</li>
  <li>Since <code>baz</code> is declared as <code>Option[Int]</code> the library automatically wraps the <code>Int</code> value into a <code>Some</code>.</li>
  <li>By the way, note also how <code>missingValue</code> is not present in the config but since it’s declared as <code>Option</code> in the
case class its value becomes <code>None</code>.</li>
  <li>The automatic conversion works also for nested structures, see <code>mapList</code> for example.</li>
  <li><code>Range</code> and <code>Duration</code> work like a charm. Note that for both <code>Range</code> and <code>Duration</code> you can use the syntax you
would use in regular Scala code. For example, you could have used <code>5 secs</code> instead of <code>5 seconds</code> in <code>foo.conf</code> and
it would have worked smoothly.</li>
</ul>

<p><a name="valueByValueConversion"></a>
## Value-by-value conversion
Instead of using a case class you may want to retrieve the single values and convert them as you go:</p>

<p><code>scala
val bar: Try[String] = for {
  conf &lt;- config
  result &lt;- conf.getAs[String]("bar")
} yield result
</code></p>

<p>The value of <code>bar</code> will be:</p>

<p><code>scala
Success("hello")
</code></p>

<p>You can also use the <em>dot</em> syntax to retrieve a value. E.g.:</p>

<p>```scala
val cfgStr = “””
{
  foo = {
    bar = 42
  }
}
“””</p>

<p>val config: Try[Config] = Config.from(cfgStr)</p>

<p>val bar: Try[Int] = for {
  c &lt;- config
  bar &lt;- c.getAs<a href="&quot;foo.bar&quot;">Int</a>
} yield bar
```</p>

<p>Note how the <code>bar</code> value was retrieved using the dot syntax.</p>

<p>Apart from converting the whole config into a case class, you can also convert a given value provided it’s an object in
the JSON-superset syntax:</p>

<p><code>scala
val greekList: Try[List[Greek]] = for {
  conf &lt;- config
  result &lt;- conf.getAs[List[Greek]]("mapList")
} yield result
</code></p>

<p>The value of <code>greekList</code> will be:</p>

<p><code>scala
Success(List(Greek(hello,42), Greek(world,24)))
</code></p>

<p>Sorry? You said you would have preferred a <code>Vector[Greek]</code> in place of <code>List[Greek]</code>? No problem:</p>

<p><code>scala
val greekVector: Try[Vector[Greek]] = for {
  conf &lt;- config
  result &lt;- conf.getAs[Vector[Greek]]("mapList")
} yield result
</code></p>

<p>Here’s the value of <code>greekVector</code>:</p>

<p><code>scala
Success(Vector(Greek(hello,42), Greek(world,24)))
</code></p>

<p>Oh, yes, <code>Set[Greek]</code> would have worked too:</p>

<p><code>scala
val greekSet: Try[Set[Greek]] = for {
  conf &lt;- config
  result &lt;- conf.getAs[Set[Greek]]("mapList")
} yield result
</code></p>

<p>Here’s the value of <code>greekSet</code>:</p>

<p><code>scala
Success(Set(Greek(hello,42), Greek(world,24)))
</code></p>

<p>Analogously you can automatically convert a <code>Range</code> into a <code>List</code>, <code>Vector</code> or <code>Set</code>:</p>

<p>```scala
val rangeAsList: Try[List[Int]] = for {
  conf &lt;- config
  result &lt;- conf.getAs<a href="&quot;range&quot;">List[Int]</a>
} yield result</p>

<p>val rangeAsVector: Try[Vector[Int]] = for {
  conf &lt;- config
  result &lt;- conf.getAs<a href="&quot;range&quot;">Vector[Int]</a>
} yield result</p>

<p>val rangeAsSet: Try[Set[Int]] = for {
  conf &lt;- config
  result &lt;- conf.getAs<a href="&quot;range&quot;">Set[Int]</a>
} yield result
```</p>

<p>Here are the results:</p>

<p>```scala
Success(List(2, 4, 6, 8, 10)) // rangeAsList</p>

<p>Success(Vector(2, 4, 6, 8, 10)) // rangeAsVector</p>

<p>Success(Set(4, 2, 8, 6, 10)) // rangeAsSet
```</p>

<p>Notice, however, that in case of <code>Set</code> the order is not guaranteed because of the very nature of sets.</p>

<p>Apart from loading your configuration from a file you can use other provided loaders or, easily, write your owns.
See <a href="loaders.html">Config Loaders</a> for some examples. </p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/config/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="/config/js/main.js"></script></body></html>